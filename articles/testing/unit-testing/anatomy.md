# 単体テストの構造的解析

AAAパターンとは、テストケースを、準備(Arrange)、実行(Act)、確認(Assert)のフェーズで構成すること。

<https://github.com/suimenkathemove/rust_sandbox/blob/12c14c6ad3c4de764d96ee03fb5e4cf1c0a424af/unit_testing/src/calculator.rs>

統一された構造を持つことによって、テストの可読性が上がる。

| name            | description                                                                                                    |
| --------------- | -------------------------------------------------------------------------------------------------------------- |
| Arrangeフェーズ | テストケースの事前条件を満たすフェーズ。                                                                       |
| Actフェーズ     | テスト対象の振る舞いを実行させるフェーズ。                                                                     |
| Assertフェーズ  | 実行結果を確認するフェーズ。                                                                                   |
|                 | 実行結果は、戻り値の場合もあれば、テスト対象システムやその協力者オブジェクトの実行後の状態の場合もある。       |
|                 | テスト対象システムによって、想定する協力者オブジェクトのメソッドが呼び出されたことが確認対象となる場合もある。 |

テスト対象システム(System Under Test: SUT)とは、テスト対象のオブジェクトのこと。

テスト内での順番はこの順番だが、確認フェーズから書き始める選択肢もある(TDDの場合など)。
